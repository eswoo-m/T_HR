                  setTeamMembers(teamMembers.map(member => 
                    member.id === selectedMemberForAllocation.id
                      ? { 
                          ...member, 
                          allocation: averageAllocation,
                          startDate: memberStartDate,
                          endDate: memberEndDate,
                          classification: updatedClassification
                        }
                      : member
                  ));
                  
                  alert(`월별 투입 현황이 저장되었습니다.\n평균 투입률: ${averageAllocation}%\n현재 구분: ${updatedClassification}`);
                  setIsMonthlyAllocationDialogOpen(false);
                }
              }}>
                <Save className="h-4 w-4 mr-2" />
                저장
              </Button>
            )}
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* 종료일 변경 확인 다이얼로그 */}
      <Dialog open={showEndDateConfirmDialog} onOpenChange={setShowEndDateConfirmDialog}>
        <DialogContent className="sm:max-w-md">
          <DialogHeader>
            <DialogTitle>종료일 변경 확인</DialogTitle>
            <DialogDescription>
              투입인력의 종료일도 변경됩니다. 진행하시겠습니까?
            </DialogDescription>
          </DialogHeader>
          <DialogFooter className="gap-2 sm:gap-0">
            <Button variant="outline" onClick={cancelEndDateChange}>
              아니오
            </Button>
            <Button onClick={confirmEndDateChange}>
              예
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </div>
  );
}
